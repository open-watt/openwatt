#
# Legend:
#
# value: function, offset, type (u16), units (10mAh)
#	desc: id, display_units, sample_frequency, user_description
#

#
# GoodWe AA55 protocol:
#  Github - https://github.com/marcelblijleven/goodwe/tree/master/goodwe
#
# For inverters: ...?
#

enum: BatteryMode
	no_battery: 0, "No battery"
	standby: 1, "Standby"
	discharge: 2, "Discharge"
	charge: 3, "Charge"
	to_be_charged: 4, "To be charged"
	to_be_discharged: 5, "To be discharged"

enum: EnergyMode
	check_mode: 0x00, "Check Mode"
	wait_mode: 0x01, "Wait Mode"
	normal_on_grid: 0x02, "Normal On Grid"
	normal_off_grid: 0x04, "Normal Off Grid"
	flash_mode: 0x08, "Flash Mode"
	fault_mode: 0x10, "Fault Mode"
	battery_standby: 0x20, "Battery Standby"
	battery_charging: 0x40, "Battery Charging"
	battery_discharging: 0x80, "Battery Discharging"

enum: GridMode
	off_grid: 0, "Off Grid"
	on_grid: 1, "On Grid"
	fault: 2, "Fault"

enum: GridInOut
	idle: 0, "Idle"
	exporting: 1, "Exporting"
	importing: 2, "Importing"

enum: LoadMode
	inverter_and_load_disconnected: 0, "Inverter and Load Disconnected"
	inverter_connected_to_load: 1, "Inverter Connected to Load"

enum: PVMode
	not_connected: 0, "Not Connected"
	no_power: 1, "No Power"
	producing: 2, "Producing"

enum: WorkMode
	wait: 0, "Wait"
	normal: 1, "Normal"
	error: 2, "Error"
	check: 3, "Check"

enum: WorkModeET
	wait: 0, "Wait"
	on_grid: 1, "On Grid"
	off_grid: 2, "Off Grid"
	fault: 3, "Fault"
	flash: 4, "Flash"
	check: 5, "Check"

enum: WorkModeES
	standby: 0, "Standby"
	inverter_on: 1, "Inverter On"
	abnormal: 2, "Abnormal"
	severely_abnormal: 3, "Severely Abnormal"  # O_o ???

enum: DiagStatusCode
	battery_voltage_low: 1 << 0, "Battery Voltage Low"
	battery_soc_low: 1 << 1, "Battery SOC Low"
	battery_soc_in_back: 1 << 2, "Battery SOC in Back"
	bms_discharge_disabled: 1 << 3, "BMS Discharge Disabled"
	discharge_time_on: 1 << 4, "Discharge Time On"
	charge_time_on: 1 << 5, "Charge Time On"
	discharge_driver_on: 1 << 6, "Discharge Driver On"
	bms_discharge_current_low: 1 << 7, "BMS Discharge Current Low"
	app_discharge_current_too_low: 1 << 8, "APP Discharge Current Too Low"
	meter_communication_failure: 1 << 9, "Meter Communication Failure"
	meter_connection_reversed: 1 << 10, "Meter Connection Reversed"
	self_use_load_light: 1 << 11, "Self Use Load Light"
	ems_discharge_current_is_zero: 1 << 12, "EMS Discharge Current is Zero"
	discharge_bus_high_pv_voltage: 1 << 13, "Discharge Bus High PV Voltage"
	battery_disconnected: 1 << 14, "Battery Disconnected"
	battery_overcharged: 1 << 15, "Battery Overcharged"
	bms_temperature_too_high: 1 << 16, "BMS Temperature Too High"
	bms_charge_too_high: 1 << 17, "BMS Charge Too High"
	bms_charge_disabled: 1 << 18, "BMS Charge Disabled"
	self_use_off: 1 << 19, "Self Use Off"
	soc_delta_too_volatile: 1 << 20, "SOC Delta Too Volatile"
	battery_self_discharge_too_high: 1 << 21, "Battery Self Discharge Too High"
	battery_soc_low_off_grid: 1 << 22, "Battery SOC Low Off Grid"
	grid_wave_unstable: 1 << 23, "Grid Wave Unstable"
	export_power_limit_set: 1 << 24, "Export"
	pf_value_set: 1 << 25, "PF Value Set"
	real_power_limit_set: 1 << 26, "Real Power Limit Set"
	dc_output_on: 1 << 27, "DC Output On"
	soc_protect_off: 1 << 28, "SOC Protect Off"
	bms_emergency_charging: 1 << 30, "BMS Emergency Charging"


elements:
	# InfoData
	aa55: 1,  0, u16be, 0.1V			desc: info_v_pv1, V, realtime, "PV1 voltage"
	aa55: 1,  2, u16be, 0.1V			desc: info_v_pv2, V, realtime, "PV2 voltage"
	aa55: 1,  4, u16be, 0.1A			desc: info_i_pv1, A, realtime, "PV1 current"
	aa55: 1,  6, u16be, 0.1A			desc: info_i_pv2, A, realtime, "PV2 current"
	aa55: 1,  8, u16be, 0.1V			desc: info_v_grid, , realtime, ""
	aa55: 1, 10, i16be, 0.1A			desc: info_i_grid, , realtime, ""
	aa55: 1, 12, u16be, 0.01Hz			desc: info_f_grid, , realtime, ""
	aa55: 1, 14, i16be, W				desc: info_p_grid_export, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 18, i16be, 0.1°C			desc: info_c_inverter_temp, , realtime, ""
#	aa55: 1, 20, u32be, 				desc: info_error_codes, , realtime, "" # ???
	aa55: 1, 24, u32be, 0.1kWh			desc: info_e_total, , realtime, ""
	aa55: 1, 28, u32be, hrs				desc: info_h_total, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 44, u16be, kWh				desc: info_e_day, kWh, realtime, ""
	aa55: 1, 46, u16be, 0.1V			desc: info_v_bat, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 50, u16be, %				desc: info_soc, , realtime, ""
	aa55: 1, 52, i16be, 0.1A			desc: info_i_bat, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 60, u16be, 0.1kWh			desc: info_e_load_day, , realtime, ""
	aa55: 1, 62, u32be, 0.1kWh			desc: info_e_load_total, , realtime, ""
	aa55: 1, 66, u16be, W				desc: info_total_power, W, realtime, ""
	aa55: 1, 68, u16be, 0.1V			desc: info_v_backup, , realtime, ""
	aa55: 1, 70, i16be, 0.1A			desc: info_i_backup, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 78, u16be, %				desc: info_soh, , realtime, ""
	aa55: 1, 80, i16be, 0.1°C			desc: info_c_bat_temp, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1, 92, dt48be, yymmddhhmmss	desc: info_time, , medium, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
	aa55: 1,106, u16be, 0.01Hz			desc: info_f_backup, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""
#	aa55: 1, 16, u16be, 				desc: info_, , realtime, ""

# these were wrong!
#	aa55: 1,  0, u16be, 0.1V			desc: info_v_pv1, V, realtime, "PV1 voltage"
#	aa55: 1,  2, u16be, 0.1V			desc: info_v_pv2, V, realtime, "PV2 voltage"
#	aa55: 1,  4, u16be, 0.1A			desc: info_i_pv1, A, realtime, "PV1 current"
#	aa55: 1,  6, u16be, 0.1A			desc: info_i_pv2, A, realtime, "PV2 current"
#	aa55: 1,  8, u16be, 0.1V			desc: info_v_ac1, V, realtime, "Phase L1 voltage"
#	aa55: 1, 10, u16be, 0.1V			desc: info_v_ac2, V, realtime, "Phase L2 voltage"
#	aa55: 1, 12, u16be, 0.1V			desc: info_v_ac3, V, realtime, "Phase L3 voltage"
#	aa55: 1, 14, i16be, 0.1A			desc: info_i_ac1, A, realtime, "Phase L1 current"
#	aa55: 1, 16, i16be, 0.1A			desc: info_i_ac2, A, realtime, "Phase L2 current"
#	aa55: 1, 18, i16be, 0.1A			desc: info_i_ac3, A, realtime, "Phase L3 current"
#	aa55: 1, 20, u16be, 0.01Hz			desc: info_f_ac1, Hz, realtime, "Phase L1 frequency"
#	aa55: 1, 22, u16be, 0.01Hz			desc: info_f_ac2, Hz, realtime, "Phase L2 frequency"
#	aa55: 1, 24, u16be, 0.01Hz			desc: info_f_ac3, Hz, realtime, "Phase L3 frequency"
#	aa55: 1, 26, u16be, W				desc: info_p_ac, W, realtime, "Feeding power"
#	aa55: 1, 28, enum16, WorkMode		desc: info_work_mode, , high, "Work Mode"
#	aa55: 1, 30, i16be, 0.1°C			desc: info_temperature, °C, medium, "Inverter internal temperature"
#	aa55: 1, 32, u16be					desc: info_error_msg_h, , medium, "Failure description for status 'failure'" # (Table3-7)
#	aa55: 1, 34, u16be					desc: info_error_msg_l, , medium, "Failure description for status 'failure'" # (Table3-7)
#	aa55: 1, 36, u32be, 0.1kWh			desc: info_e_total, kWh, medium, "Total Feed Energy to grid"
#	aa55: 1, 40, u32be, hrs				desc: info_h_total, , low, "Total feeding hours"
#	aa55: 1, 44, i16be, 0.1°C			desc: info_tmp_fault_value, °C, low, "Temperature fault value"
#	aa55: 1, 46, u16be, 0.1V			desc: info_pv1_fault_value, V, low, "PV1 voltage fault value"
#	aa55: 1, 48, u16be, 0.1V			desc: info_pv2_fault_value, V, low, "PV2 voltage fault value"
#	aa55: 1, 50, u16be, 0.1V			desc: info_l1_v_fault_value, V, low, "Phase L1 voltage fault value"
#	aa55: 1, 52, u16be, 0.1V			desc: info_l2_v_fault_value, V, low, "Phase L2 voltage fault value"
#	aa55: 1, 54, u16be, 0.1V			desc: info_l3_v_fault_value, V, low, "Phase L3 voltage fault value"
#	aa55: 1, 56, u16be, 0.01Hz			desc: info_l1_f_fault_value, Hz, low, "Phase L1 frequency fault value"
#	aa55: 1, 58, u16be, 0.01Hz			desc: info_l2_f_fault_value, Hz, low, "Phase L2 frequency fault value"
#	aa55: 1, 60, u16be, 0.01Hz			desc: info_l3_f_fault_value, Hz, low, "Phase L3 frequency fault value"
#	aa55: 1, 62, u16be, mA				desc: info_gfci_fault_value, mA, low, "GFCI fault value"
#	aa55: 1, 64, u16be, 0.1kWh			desc: info_e_day, kWh, medium, "Feed Engery to grid in today" # data_e_load_total

	# IDInfo
	aa55: 2,  0, str5					desc: id_firmware_version, , const, ""
	aa55: 2,  5, str10					desc: id_model_name, , const, ""
	aa55: 2, 31, str16					desc: id_serial_number, , const, ""
	aa55: 2, 47, str4					desc: id_nom_vpv, , const, "Nominal PV voltage (0.1V)"
	aa55: 2, 51, str12					desc: id_software_version, , const, ""
	aa55: 2, 63, u8						desc: id_safety_country_code, , const, ""

	# SettingInfo
	aa55: 3,  0, u16be, 0.1V			desc: setting_vpv_start, V, const, "PV start-up voltage"
	aa55: 3,  2, u16be, s				desc: setting_t_start, , const, "Time to connect grid"
	aa55: 3,  4, u16be, 0.1V			desc: setting_vac_min, V, const, "Minimum operational grid voltage"
	aa55: 3,  6, u16be, 0.1V			desc: setting_vac_max, V, const, "Maximum operational grid voltage"
	aa55: 3,  8, u16be, 0.01Hz			desc: setting_fac_min, Hz, const, "Minimum operational grid Frequency"
	aa55: 3, 10, u16be, 0.01Hz			desc: setting_fac_max, Hz, const, "Maximum operational grid Frequency"

	# RunningData
	aa55: 6,  0, u16be, 0.1V			desc: data_v_pv1, V, realtime, "PV1 Voltage"
	aa55: 6,  2, i16be, 0.1A			desc: data_i_pv1, A, realtime, "PV1 Current"
	aa55: 6,  4, enum8, PVMode			desc: data_pv1_state, , medium, "PV1 State"
	aa55: 6,  5, u16be, 0.1V			desc: data_v_pv2, V, realtime, "PV2 Voltage"
	aa55: 6,  7, i16be, 0.1A			desc: data_i_pv2, A, realtime, "PV2 Current"
	aa55: 6,  9, enum8, PVMode			desc: data_pv2_state, , medium, "PV2 State"
	aa55: 6, 10, u16be, 0.1V			desc: data_v_bat, V, realtime, "Battery Voltage"
	aa55: 6, 14, u16be					desc: data_bat_status, , medium, "Battery Status"
	aa55: 6, 16, i16be, 0.1°C			desc: data_c_bat_temp, °C, medium, "Battery Temperature"
	aa55: 6, 18, i16be, 0.1A			desc: data_i_bat, A, realtime, "Battery Current"
	aa55: 6, 20, i16be, A				desc: data_i_bat_charge, A, medium, "Battery Charge Current"
	aa55: 6, 22, i16be, A				desc: data_i_bat_discharge, A, medium, "Battery Discharge Current"
	aa55: 6, 24, u16be					desc: data_bat_error, , medium, "Battery Error"
	aa55: 6, 26, u8, %					desc: data_soc, , high, "State of Charge"
	aa55: 6, 29, u8, %					desc: data_soh, , low, "State of Health"
	aa55: 6, 30, enum8, BatteryMode		desc: data_bat_mode, , realtime, "Battery Mode code"
	aa55: 6, 31, u16be					desc: data_bat_warning, , medium, "Battery Warning"
	aa55: 6, 33, u8						desc: data_meter_status, , medium, "Meter Status"
	aa55: 6, 34, u16be, 0.1V			desc: data_v_grid, V, realtime, "Grid Voltage"
	aa55: 6, 36, i16be, 0.1A			desc: data_i_grid, A, realtime, "Grid Current"
	aa55: 6, 38, u16be, W				desc: data_p_grid, W, realtime, "Grid Export Power"
	aa55: 6, 40, u16be, 0.01Hz			desc: data_f_grid, Hz, realtime, "Grid Frequency"
	aa55: 6, 42, enum8, WorkModeES		desc: data_grid_mode, , medium, "Work Mode code"
	aa55: 6, 43, u16be, 0.1V			desc: data_v_backup, V, realtime, "Backup Voltage"
	aa55: 6, 45, i16be, 0.1A			desc: data_i_backup, A, realtime, "Backup Current"
	aa55: 6, 47, u16be, W				desc: data_p_load, W, realtime, "??" # ON GRID POWER ??? ** export to grid/import from grid???
	aa55: 6, 49, u16be, 0.01Hz			desc: data_f_backup, Hz, realtime, "Backup Frequency"
	aa55: 6, 51, enum8, LoadMode		desc: data_load_mode, , medium, "Load Mode code"
	aa55: 6, 52, enum8, EnergyMode		desc: data_work_mode, , medium, "Energy Mode code"
	aa55: 6, 53, i16be, 0.1°C			desc: data_c_inverter_temp, °C, medium, "Inverter Temperature"
	aa55: 6, 55, u32be					desc: data_error_codes, , medium, "Error Codes"
	aa55: 6, 59, u32be, 0.1kWh			desc: data_e_total, kWh, medium, "Total PV Generation"
	aa55: 6, 63, u32be, hrs				desc: data_h_total, , low, "Hours Total"
	aa55: 6, 67, u16be, 0.1kWh			desc: data_e_day, kWh, medium, "Today's PV Generation"
	aa55: 6, 69, u16be, 0.1kWh			desc: data_e_load_day, kWh, medium, "Today's Load"
	aa55: 6, 71, u32be, 0.1kWh			desc: data_e_load_total, kWh, medium, "Total Load" #info_e_day
	aa55: 6, 75, u16be, W				desc: data_total_power, W, realtime, "Total Power"
	aa55: 6, 77, u8						desc: data_effective_work_mode, , medium, "Effective Work Mode code"
	aa55: 6, 78, u16be					desc: data_effective_relay_control, , medium, "Effective Relay Control"
	aa55: 6, 80, enum8, GridInOut		desc: data_grid_in_out, , medium, "Grid In/Out status"
	aa55: 6, 81, u16be, W				desc: data_p_backup, W, realtime, "Backup Power"
	aa55: 6, 83, u16be, 0.01			desc: data_meter_power_factor
	aa55: 6, 89, bf32be, DiagStatusCode desc: data_diagnose_result, , medium, "Diagnose Result"
	aa55: 6, 95, dt48be, yymmddhhmmss	desc: data_time, , medium, "Current Time"
	aa55: 6, 127,u16be, W				desc: data_total_plant_consumption, W, medium, "Total Plant Consumption"

	# StatusData
	aa55: 9, 12, u16be, 				desc: stat_backup_supply, , low, "Backup Supply"
	aa55: 9, 14, u16be, 				desc: stat_off_grid_charge, , low, "Off-grid Charge"
	aa55: 9, 16, u16be, 				desc: stat_shadow_scan, , low, "Shadow Scan"
	aa55: 9, 18, u16be, 				desc: stat_grid_export, , low, "Export Limit Enabled"
	aa55: 9, 22, u16be, Ah				desc: stat_capacity, Ah, low, "Capacity"
	aa55: 9, 24, u16be, 0.1V			desc: stat_charge_v, V, low, "Charge Voltage"
	aa55: 9, 26, u16be, 0.1A			desc: stat_charge_i, A, low, "Charge Current"
	aa55: 9, 28, u16be, 0.1A			desc: stat_discharge_i, A, low, "Discharge Current"
	aa55: 9, 30, u16be, 0.1V			desc: stat_discharge_v, V, low, "Discharge Voltage"
	aa55: 9, 32, u16be, %				desc: stat_dod, , low, "Depth of Discharge" # this is how much remains; calculate (100 - dod) for actual DoD
	aa55: 9, 34, u16be, 				desc: stat_battery_activated, , low, "Battery Activated"
	aa55: 9, 36, u16be, 				desc: stat_bp_off_grid_charge, , low, "BP Off-grid Charge"
	aa55: 9, 38, u16be, 				desc: stat_bp_pv_discharge, , low, "BP PV Discharge"
	aa55: 9, 40, u16be, 				desc: stat_bp_bms_protocol, , low, "BP BMS Protocol"
	aa55: 9, 42, u16be, 0.01			desc: stat_power_factor, , low, "Power Factor"
	aa55: 9, 52, u16be, W				desc: stat_grid_export_limit, W, low, "Grid Export Limit"
	aa55: 9, 56, u16be, 				desc: stat_battery_soc_protection, , low, "Battery SoC Protection"
	aa55: 9, 66, u16be, 				desc: stat_work_mode, , low, "Work Mode"
	aa55: 9, 68, u16be, 				desc: stat_grid_quality_check, , low, "Grid Quality Check"


device-template:
	model: GW3648~C~D~-ES, GW5048~C~D~-ES
#	component:
#		id: running_info
#		element-map: info_v_pv1, @info_v_pv1
#		element-map: info_v_pv2, @info_v_pv2
#		element-map: info_i_pv1, @info_i_pv1
#		element-map: info_i_pv2, @info_i_pv2
#		element-map: info_v_grid, @info_v_grid
#		element-map: info_i_grid, @info_i_grid
#		element-map: info_f_grid, @info_f_grid
#		element-map: info_p_grid_export, @info_p_grid_export
#		element-map: info_c_inverter_temp, @info_c_inverter_temp
#		element-map: info_e_total, @info_e_total
#		element-map: info_h_total, @info_h_total
#		element-map: info_v_bat, @info_v_bat
#		element-map: info_soc, @info_soc
#		element-map: info_e_load_total, @info_e_load_total
#		element-map: info_v_backup, @info_v_backup
#		element-map: info_i_backup, @info_i_backup
#		element-map: info_soh, @info_soh
#		element-map: info_c_bat_temp, @info_c_bat_temp
#		element-map: info_time, @info_time
#		element-map: info_f_backup, @info_f_backup
#	component:
#		id: running_data
#		element-map: data_v_pv1, @data_v_pv1
#		element-map: data_i_pv1, @data_i_pv1
#		element-map: data_pv1_state, @data_pv1_state
#		element-map: data_v_pv2, @data_v_pv2
#		element-map: data_i_pv2, @data_i_pv2
#		element-map: data_pv2_state, @data_pv2_state
#		element-map: data_v_bat, @data_v_bat
#		element-map: data_bat_status, @data_bat_status
#		element-map: data_c_bat_temp, @data_c_bat_temp
#		element-map: data_i_bat, @data_i_bat
#		element-map: data_i_bat_charge, @data_i_bat_charge
#		element-map: data_i_bat_discharge, @data_i_bat_discharge
#		element-map: data_bat_error, @data_bat_error
#		element-map: data_soc, @data_soc
#		element-map: data_soh, @data_soh
#		element-map: data_bat_mode, @data_bat_mode
#		element-map: data_bat_warning, @data_bat_warning
#		element-map: data_meter_status, @data_meter_status
#		element-map: data_v_grid, @data_v_grid
#		element-map: data_i_grid, @data_i_grid
#		element-map: data_p_grid, @data_p_grid
#		element-map: data_f_grid, @data_f_grid
#		element-map: data_grid_mode, @data_grid_mode
#		element-map: data_v_backup, @data_v_backup
#		element-map: data_i_backup, @data_i_backup
#		element-map: data_p_load, @data_p_load
#		element-map: data_f_backup, @data_f_backup
#		element-map: data_load_mode, @data_load_mode
#		element-map: data_work_mode, @data_work_mode
#		element-map: data_c_inverter_temp, @data_c_inverter_temp
#		element-map: data_error_codes, @data_error_codes
#		element-map: data_e_total, @data_e_total
#		element-map: data_h_total, @data_h_total
#		element-map: data_e_day, @data_e_day
#		element-map: data_e_load_day, @data_e_load_day
#		element-map: data_e_load_total, @data_e_load_total
#		element-map: data_total_power, @data_total_power
#		element-map: data_effective_work_mode, @data_effective_work_mode
#		element-map: data_effective_relay_control, @data_effective_relay_control
#		element-map: data_grid_in_out, @data_grid_in_out
#		element-map: data_p_backup, @data_p_backup
#		element-map: data_meter_power_factor, @data_meter_power_factor
#		element-map: data_diagnose_result, @data_diagnose_result
#		element-map: data_time, @data_time
#		element-map: data_total_plant_consumption, @data_total_plant_consumption
#	component:
#		id: setting_info
#		element-map: setting_vpv_start, @setting_vpv_start
#		element-map: setting_t_start, @setting_t_start
#		element-map: setting_vac_min, @setting_vac_min
#		element-map: setting_vac_max, @setting_vac_max
#		element-map: setting_fac_min, @setting_fac_min
#		element-map: setting_fac_max, @setting_fac_max
#	component:
#		id: status_data
#		element-map: stat_backup_supply, @stat_backup_supply
#		element-map: stat_off_grid_charge, @stat_off_grid_charge
#		element-map: stat_shadow_scan, @stat_shadow_scan
#		element-map: stat_grid_export, @stat_grid_export
#		element-map: stat_capacity, @stat_capacity
#		element-map: stat_charge_v, @stat_charge_v
#		element-map: stat_charge_i, @stat_charge_i
#		element-map: stat_discharge_i, @stat_discharge_i
#		element-map: stat_discharge_v, @stat_discharge_v
#		element-map: stat_dod, @stat_dod
#		element-map: stat_battery_activated, @stat_battery_activated
#		element-map: stat_bp_off_grid_charge, @stat_bp_off_grid_charge
#		element-map: stat_bp_pv_discharge, @stat_bp_pv_discharge
#		element-map: stat_bp_bms_protocol, @stat_bp_bms_protocol
#		element-map: stat_power_factor, @stat_power_factor
#		element-map: stat_grid_export_limit, @stat_grid_export_limit
#		element-map: stat_battery_soc_protection, @stat_battery_soc_protection
#		element-map: stat_work_mode, @stat_work_mode
#		element-map: stat_grid_quality_check, @stat_grid_quality_check
	component:
		id: info
		template: DeviceInfo
		element: type, "inverter"
#		element: name, "GW3648-ES" [GW3648*] # TODO: duplicate elements
		element: name, "GW5048-ES" [GW5048*]
		element: manufacturer_name, "GoodWe"
		element-map: model_id, @id_model_name
		element-map: serial_number, @id_serial_number
#		element-map: ProtocolVersion, @ProtocolVersion
#		element-map: FMVersion_DSP_M, @FMVersion_DSP_M
#		element-map: FMVersion_DSP_S, @FMVersion_DSP_S
#		element-map: BetaVersion_DSP, @BetaVersion_DSP
#		element-map: FMVersion_ARM, @FMVersion_ARM
#		element-map: BetaVersion_ARM, @BetaVersion_ARM
#		element-map: DSPInternalFirmwareVer, @DSPInternalFirmwareVer
#		element-map: ARMInternalFirmwareVer, @ARMInternalFirmwareVer
#		element-map: FMVersion_DSP_DCDC, @FMVersion_DSP_DCDC
#		element-map: BetaVersion_DCDC, @BetaVersion_DCDC
#		element-map: FMVersion_DSP_MPPT, @FMVersion_DSP_MPPT
#		element-map: BetaVersion_MPPT, @BetaVersion_MPPT
#		element-map: FMVersion_DSP_STS, @FMVersion_DSP_STS
#		element-map: BetaVersion_STS, @BetaVersion_STS
	component:
		id: status
		template: DeviceStatus
		element-map: time, @data_time
		element-map: running_time, @data_h_total
#		component:
#			id: network
#			template: Network
#			component:
#				id: wifi
#				template: Wifi
#			component:
#				id: cellular
#				template: Cellular
#				element-map: SIMCCID, @SIMCCID
	component:
		id: hidden
		element-map: bat_current_raw, @data_i_bat
	component:
		id: realtime
		template: RealtimeEnergyMeter
		element: type, "single-phase"
		element-map: voltage, @data_v_grid
		element-map: current, @data_i_grid
		element-map: power, @data_p_load
		element-map: frequency, @data_f_grid
#	component:
#		id: cumulative
#		template: CumulativeEnergyMeter
#		element: type, "single-phase"
#		element-map: totalImportActiveEnergy, @ETotalBuy
#		element-map: totalExportActiveEnergy, @ETotalSell
#		element-map: totalActiveEnergy, @ETotalLoad
	component:
		id: inverter
		template: Inverter
#		element: rated_power, 3600W	[GW3648*]
		element: rated_power, 5000W	[GW5048*]
		element: efficiency, 95.5%
		element-map: temp, @data_c_inverter_temp
#		element-map: ac_output_type, @ACOutputType
		component:
			id: load
			component:
				id: realtime
				template: RealtimeEnergyMeter
				element: type, "single-phase"
				element-map: power, @data_p_load
		component:
			id: backup
			component:
				id: realtime
				template: RealtimeEnergyMeter
				element: type, "single-phase"
				element-map: voltage, @data_v_backup
				element-map: current, @data_i_backup
				element-map: power, @data_p_backup
				element-map: frequency, @data_f_backup
		component:
			id: solar
			template: Solar
			component:
				id: string1
				template: Solar
				element-map: state, @data_pv1_state
				component:
					id: realtime
					template: RealtimeEnergyMeter
					element: type, "dc"
					element-map: voltage, @data_v_pv1
					element-map: current, @data_i_pv1
#					element-map: power, @Pbattery1
					element: power, @inverter.solar.string1.realtime.voltage * @inverter.solar.string1.realtime.current
				component:
					id: cumulative
					template: CumulativeEnergyMeter
					element: type, "dc"
					element-sum: net, trapezoid, @inverter.solar.string1.realtime.power
			component:
				id: string2
				template: Solar
				element-map: state, @data_pv2_state
				component:
					id: realtime
					template: RealtimeEnergyMeter
					element: type, "dc"
					element-map: voltage, @data_v_pv2
					element-map: current, @data_i_pv2
#					element-map: power, @Pbattery1
					element: power, @inverter.solar.string2.realtime.voltage * @inverter.solar.string2.realtime.current
				component:
					id: cumulative
					template: CumulativeEnergyMeter
					element: type, "dc"
					element-sum: net, trapezoid, @inverter.solar.string2.realtime.power
			component:
				id: realtime
				template: RealtimeEnergyMeter
				element: type, "dc"
				element: power, @inverter.solar.string1.realtime.power + @inverter.solar.string2.realtime.power
			component:
				id: cumulative
				template: CumulativeEnergyMeter
				element: type, "dc"
				element-sum: net, trapezoid, @inverter.solar.realtime.power
		component:
			id: battery
			template: Battery
			element-map: mode, @data_bat_mode
			element-map: soc, @data_soc
			element-map: soh, @data_soh
			element-map: temp, @data_c_bat_temp
			element-map: max_charge_current, @data_i_bat_charge
			element-map: max_discharge_current, @data_i_bat_discharge
			component:
				id: realtime
				template: RealtimeEnergyMeter
				element: type, "dc"
				element-map: voltage, @data_v_bat
				element: current, $select(@inverter.battery.mode == 3, -@hidden.bat_current_raw, @hidden.bat_current_raw)
#				element-map: power, @Pbattery1
				element: power, @inverter.battery.realtime.voltage * @inverter.battery.realtime.current
			component:
				id: cumulative
				template: CumulativeEnergyMeter
				element: type, "dc"
#				element-map: totalChargeEnergy, @EBatteryCharge
#				element-map: totalDischargeEnergy, @EBatteryDischarge
				element-sum: import, negative_trapezoid, @inverter.battery.realtime.power
				element-sum: export, positive_trapezoid, @inverter.battery.realtime.power
		component:
			id: export_meter
			component:
				id: realtime
				template: RealtimeEnergyMeter
				element: type, "single-phase"
				element-map: voltage, @data_v_grid
				element-map: current, @data_i_grid
				element-map: power, @data_p_grid
#				element-map: reactive, @MeterTotalReactivePower
#				element-map: pf, @data_meter_power_factor  # TODO: investigate why this reports 1 instead of 1000?
				element-map: frequency, @data_f_grid
#			component:
#				id: cumulative
#				template: CumulativeEnergyMeter
#				element: type, "single-phase"
#				element-map: totalImportActiveEnergy, @ActiveETotalBuy_Total
#				element-map: totalExportActiveEnergy, @ActiveETotalSell_Total


# here is some data about an old modbus protocol; looks familiar!

#//
#// Protocol for Goodwe Modbus V1.3
#// https://downloads.vodnici.net/uploads/wpforo/attachments/483/4349-1GoodweModbusPROTOCOLHybrid-ENV1-3EMseries.pdf
#//
#
#ModbusRegInfo[] goodWeRegs()
#{
#	return [
#	//
#	ModbusRegInfo(40000+0x0000, "u16/RW", "", "0.1V", "V", Frequency.Medium, "Lowest Feeding Voltage of PV (280v-600v)"),
#	ModbusRegInfo(40000+0x0001, "u16/RW", "", "s", null, Frequency.Medium, "Reconnect Time (30s-300s)"),
#	ModbusRegInfo(40000+0x0002, "u16/RW", "", "0.1V", null, Frequency.Medium, "High limit of Grid Voltage (110v-230v)"),
#	ModbusRegInfo(40000+0x0003, "u16/RW", "", "0.1V", null, Frequency.Medium, "Low limit of Grid Voltage (230v-270v)"),
#	ModbusRegInfo(40000+0x0004, "u16/RW", "", "0.01Hz", null, Frequency.Medium, "High limit of Grid Frequency (45hz-60hz)"),
#	ModbusRegInfo(40000+0x0005, "u16/RW", "", "0.01Hz", null, Frequency.Medium, "Low limit of Grid Freqency (50hz-65hz)"),
#	ModbusRegInfo(40000+0x0010, "u16/RW", "", null, null, Frequency.Medium, "RTC Year/Month (13-99/1-12)"),
#	ModbusRegInfo(40000+0x0011, "u16/RW", "", null, null, Frequency.Medium, "RTC Date/Hour (1-31/0-23)"),
#	ModbusRegInfo(40000+0x0012, "u16/RW", "", null, null, Frequency.Medium, "RTC Minute/Second (0-59/0-59)"),
#	ModbusRegInfo(40000+0x0100, "u16/W", "", "%", null, Frequency.Medium, "Range of real power adjust (0% ~ 100% of rated real power)"),
#	ModbusRegInfo(40000+0x0101, "u16/W", "", null, null, Frequency.Medium, "Range of reactive power adjust (1‐10 as 0.99‐0.9 lagging, 90‐100 as leading 0.90‐1)"),
#	ModbusRegInfo(40000+0x0200, "str8", "", null, null, Frequency.Medium, "Serial Numbe Of Inverter"),
#	ModbusRegInfo(40000+0x0210, "str5", "", null, null, Frequency.Medium, "Model Name of Inverter"),
#
#	// Hybrid Inverter
#	ModbusRegInfo(40000+0x0500, "u16", "Vpv1", "0.1V", null, Frequency.Medium, "PV1 voltage"),
#	ModbusRegInfo(40000+0x0501, "u16", "Ipv1", "0.1A", null, Frequency.Medium, "PV1 current"),
#	ModbusRegInfo(40000+0x0502, "u16", "PV1 Mode", null, null, Frequency.Medium, "PV1 Module work mode, refer to Table 8-4"),
#	ModbusRegInfo(40000+0x0503, "u16", "Vpv2", "0.1V", null, Frequency.Medium, "PV2 voltage"),
#	ModbusRegInfo(40000+0x0504, "u16", "Ipv2", "0.1A", null, Frequency.Medium, "PV2 current"),
#	ModbusRegInfo(40000+0x0505, "u16", "PV2 Mode", null, null, Frequency.Medium, "PV2 Module work mode, refer to Table 8-4"),
#	ModbusRegInfo(40000+0x0506, "u16", "Vbattery1", "0.1V", null, Frequency.Medium, "First group battery voltage"),
#	ModbusRegInfo(40000+0x0508, "u16", "BMS Status", null, null, Frequency.Medium, "BMS Work Status"),
#	ModbusRegInfo(40000+0x0509, "u16", "", "0.1°C", null, Frequency.Medium, "BMS Pack Temperature"),
#	ModbusRegInfo(40000+0x050A, "u16", "Ibattery1", "0.1A", null, Frequency.Medium, "First group battery current"),
#	ModbusRegInfo(40000+0x050B, "u16", "", "1A", null, Frequency.Medium, "BMS Charge Imax"),
#	ModbusRegInfo(40000+0x050C, "u16", "", "1A", null, Frequency.Medium, "BMS Discharge Imax"),
#	ModbusRegInfo(40000+0x050D, "u16", "", null, null, Frequency.Medium, "BMS Error Code, refer to Table 8-8"),
#	ModbusRegInfo(40000+0x050E, "u16", "SOC", "%", null, Frequency.Medium, "First group battery capacity"),
#	ModbusRegInfo(40000+0x050F, "u16", "ES Warning", null, null, Frequency.Medium, "Warning Code"),
#	ModbusRegInfo(40000+0x0511, "u16", "BMS SOH", "%", null, Frequency.Medium, ""),
#	ModbusRegInfo(40000+0x0512, "u16", "Battary1 Mode", null, null, Frequency.Medium, "First group battery work mode, refer to Table 8-9"),
#	ModbusRegInfo(40000+0x0513, "u32", "BMS Warning Code", null, null, Frequency.Medium, "BMS Warning Code, refer to Table 8-8"),
#	ModbusRegInfo(40000+0x0515, "u16", "Meter Status", null, null, Frequency.Medium, "1:OK 0:NG"),
#	ModbusRegInfo(40000+0x0516, "u16", "Vgrid", "0.1V", null, Frequency.Medium, "Grid voltage"),
#	ModbusRegInfo(40000+0x0517, "u16", "Igrid", "0.1A", null, Frequency.Medium, "Grid current"),
#	ModbusRegInfo(40000+0x0518, "i16", "Pgrid", "W", null, Frequency.Medium, "Grid Power"),
#	ModbusRegInfo(40000+0x0519, "u16", "Fgrid", "0.01Hz", null, Frequency.Medium, "Grid Frequency"),
#	ModbusRegInfo(40000+0x051A, "u16", "Grid Mode", null, null, Frequency.Medium, "Grid mode, refer to Table 8-10"),
#	ModbusRegInfo(40000+0x051B, "u16", "Vload", "0.1V", null, Frequency.Medium, "Load voltage"),
#	ModbusRegInfo(40000+0x051C, "u16", "Iload", "0.1A", null, Frequency.Medium, "Load current"),
#	ModbusRegInfo(40000+0x051D, "u16", "Pload", "W", null, Frequency.Medium, "Load Power"),
#	ModbusRegInfo(40000+0x051E, "u16", "Fload", "0.01Hz", null, Frequency.Medium, "Load Frequency"),
#	ModbusRegInfo(40000+0x051F, "u16", "Load Mode", null, null, Frequency.Medium, "Load work mode, refer to Table 8-11"),
#	ModbusRegInfo(40000+0x0520, "u16", "Work Mode", null, null, Frequency.Medium, "Storage Inverter work mode, refer to Table 8-12"),
#	ModbusRegInfo(40000+0x0521, "u16", "Temperature", "0.1°C", null, Frequency.Medium, "Inverter internal temperature"),
#	ModbusRegInfo(40000+0x0522, "u32", "Error Message", null, null, Frequency.Medium, "Failure description for status ‘failure’ Table 8-2"),
#	ModbusRegInfo(40000+0x0524, "u32", "E-Total", "0.1kWh", null, Frequency.Medium, "Total Feed Energy to grid"),
#	ModbusRegInfo(40000+0x0526, "u32", "h-Total", "h", null, Frequency.Medium, "Total feeding hours"),
#	ModbusRegInfo(40000+0x0528, "u16", "E-Day", "0.1kWh", null, Frequency.Medium, "Feed Engery to grid in today"),
#	ModbusRegInfo(40000+0x0529, "u16", "E-Load-Day", "0.1kWh", null, Frequency.Medium, "Energy of load in day"),
#	ModbusRegInfo(40000+0x052A, "u32", "E-Total-Load", "0.1kWh", null, Frequency.Medium, "High Byte of total Energy of Load"),
#	ModbusRegInfo(40000+0x052C, "i16", "TotalPower", "W", null, Frequency.Medium, "Total Power of Inverter"),
#	ModbusRegInfo(40000+0x052F, "u16", "Grid in-out flag", null, null, Frequency.Medium, "It displays inverter send power to Grid or get power from Grid, refer to Table 8-13"),
#	ModbusRegInfo(40000+0x0530, "u16", "Back-Up Load", "W", null, Frequency.Medium, "Load Power of Back-Up"),
#	ModbusRegInfo(40000+0x0531, "u16", "MeterPowerFactor", "%", null, Frequency.Medium, ""),
#	ModbusRegInfo(40000+0x0532, "u32", "DiagStatus", null, null, Frequency.Medium, "Refer Table 8-14"),
#	ModbusRegInfo(40000+0x0534, "u16", "DRMStatus", null, null, Frequency.Medium, "Refer Table 8-15"),
#	ModbusRegInfo(40000+0x0535, "f32", "E-Total-Sell", null, null, Frequency.Medium, ""),
#	ModbusRegInfo(40000+0x0537, "f32", "E-Total-Buy", null, null, Frequency.Medium, ""),
#	ModbusRegInfo(40000+0x0539, "u16", "Vpv3", "0.1V", null, Frequency.Medium, "PV3 voltage"),
#	ModbusRegInfo(40000+0x053A, "u16", "Ipv3", "0.1A", null, Frequency.Medium, "PV3 current"),
#	ModbusRegInfo(40000+0x053B, "u16", "PV3 Mode", null, null, Frequency.Medium, "refer to Table 8-4"),
#	ModbusRegInfo(40000+0x053C, "u16", "VgridUo", "0.1V", null, Frequency.Medium, "Grid Uo voltage"),
#	ModbusRegInfo(40000+0x053D, "u16", "IgridUo", "0.1A", null, Frequency.Medium, "Grid Uo current"),
#	ModbusRegInfo(40000+0x053E, "u16", "VgridWo", "0.1V", null, Frequency.Medium, "Grid Wo voltage"),
#	ModbusRegInfo(40000+0x053F, "u16", "IgridWo", "0.1A", null, Frequency.Medium, "Grid Wo current"),
#	ModbusRegInfo(40000+0x0540, "u32", "E-BatteryCharge", "0.1kWh", null, Frequency.Medium, "Charge energy"),
#	ModbusRegInfo(40000+0x0542, "u32", "E-BatteryDischarge", "0.1kWh", null, Frequency.Medium, "Discharge energy"),
#
#	// Setting register
#	ModbusRegInfo(40000+0x0550, "u16/RW", "ChargerTimeStart", null, null, Frequency.Medium, "Grid charge start time (Hbyte: hour(0-23) Lbyte: minute(0-59))"),
#	ModbusRegInfo(40000+0x0551, "u16/RW", "ChargerTimeEnd", null, null, Frequency.Medium, "Grid charge end time (Hbyte: hour(0-23) Lbyte: minute(0-59))"),
#	ModbusRegInfo(40000+0x0552, "u16/RW", "BatChargePowerMax", "%", null, Frequency.Medium, "Grid charge power"),
#	ModbusRegInfo(40000+0x0553, "u16/RW", "DisChargerTimeStart", null, null, Frequency.Medium, "Discharge start time (Hbyte: hour(0-23) Lbyte: minute(0-59))"),
#	ModbusRegInfo(40000+0x0554, "u16/RW", "DisChargerTimeEnd", null, null, Frequency.Medium, "Discharge end time (Hbyte: hour(0-23) Lbyte: minute(0-59))"),
#	ModbusRegInfo(40000+0x0555, "u16/RW", "BatDisPowerSet", "%", null, Frequency.Medium, "Discharge power set"),
#	ModbusRegInfo(40000+0x0556, "u16/RW", "BackUpEnable", null, null, Frequency.Medium, "Backup Output on (1: on 0: off)"),
#	ModbusRegInfo(40000+0x0557, "u16", "OffGridAutoCharge", null, null, Frequency.Medium, "PV Offgrid auto charge (1: on 0: off)"),
#	ModbusRegInfo(40000+0x0558, "u16/RW", "EnableMPPT4Shadow", null, null, Frequency.Medium, "MPPT shadow scan enable(1: on 0: off)"),
#	ModbusRegInfo(40000+0x0559, "u16/RW", "FeedPowerEnable", null, null, Frequency.Medium, "Feed power to grid (0: yes 1: no)"),
#	ModbusRegInfo(40000+0x055A, "u16", "ManufacturerCode", null, null, Frequency.Medium, "Meter protocol code"),
#	ModbusRegInfo(40000+0x055B, "u16/RW", "LeadBatCapacity", "Ah", null, Frequency.Medium, "Lead acid battery capacity (50-2000Ah)"),
#	ModbusRegInfo(40000+0x055C, "u16/RW", "BattChargeVoltMax", "0.1V", null, Frequency.Medium, "Battery charge volt setting (500-600)"),
#	ModbusRegInfo(40000+0x055D, "u16/RW", "BattChargeCurrMax", "0.1A", null, Frequency.Medium, "Battery charge curr setting (0-1000)"),
#	ModbusRegInfo(40000+0x055E, "u16/RW", "BattDisChgCurrMax", "0.1A", null, Frequency.Medium, "Battery discharge curr setting (0-1000)"),
#	ModbusRegInfo(40000+0x055F, "u16/RW", "BattVoltUnderMin", "0.1V", null, Frequency.Medium, "Battery volt under setting (400-480)"),
#	ModbusRegInfo(40000+0x0560, "u16/RW", "BattSOCUnderMin", "%", null, Frequency.Medium, "Battery SOC under setting"),
#	ModbusRegInfo(40000+0x0561, "u16/RW", "BatActivePeriod", "min", null, Frequency.Medium, "Battery active (0: off 1-1440 mins: on)"),
#	ModbusRegInfo(40000+0x0562, "u16/RW", "RPControlPara", null, null, Frequency.Medium, "Power Factor Setting (-80-+80), Table 8-18"),
#	ModbusRegInfo(40000+0x0563, "u16/RW", "BattFloatVolt", "0.1V", null, Frequency.Medium, "Battery float charge volt setting (500-600)"),
#	ModbusRegInfo(40000+0x0564, "u16/RW", "BattFloatCurr", "0.1A", null, Frequency.Medium, "Battery float charge curr setting (0-1000)"),
#	ModbusRegInfo(40000+0x0565, "u16/RW", "BattToFloatTime", "min", null, Frequency.Medium, "Battery CV charge Time (10-30)"),
#	ModbusRegInfo(40000+0x0566, "u16", "BattTypeIndex", null, null, Frequency.Medium, "Battery manufactor index setting (0-255)"),
#	ModbusRegInfo(40000+0x0567, "u16/RW", "FeedPowerPara", "W", null, Frequency.Medium, "Feeding power limit (0-5000)"),
#	ModbusRegInfo(40000+0x0568, "u16/RW", "AutoStartBackup", null, null, Frequency.Medium, "Offgrid Auto startup (1: on 0: off)"),
#	ModbusRegInfo(40000+0x0569, "u16/RW", "StopSocProtect", null, null, Frequency.Medium, "No soc protect (1:on 0:off)"),
#	ModbusRegInfo(40000+0x056A, "u16/RW", "DCVoltOutput/KeepBattVoltOn", null, null, Frequency.Medium, "DC Ouput (1: on 0: off) No battery charge voltage on"),
#	ModbusRegInfo(40000+0x056B, "u16/RW", "BattAvgChgVolt", "0.1V", null, Frequency.Medium, "Battery maintain charge voltage (500-600)"),
#	ModbusRegInfo(40000+0x056C, "u16/RW", "BatAvgChgHours", "h", null, Frequency.Medium, "Battery maintain charge cycle (1-5000)"),
#	ModbusRegInfo(40000+0x056D, "u16", "AS477Parameters", null, null, Frequency.Medium, "Table 8-17"),
#	ModbusRegInfo(40000+0x056E, "u16/RW", "WgPowerMode", null, null, Frequency.Medium, "Table 8-16"),
#	ModbusRegInfo(40000+0x056F, "u16/RW", "WgPowerSet", "W", null, Frequency.Medium, "(0-4600), Table 8-16"),
#//	ModbusRegInfo(40000+0x0570, "u16", "Reserved", null, null, Frequency.Medium, "BMS protocol config status"),
#	ModbusRegInfo(40000+0x0571, "u16", "NoGridChargeEnable", null, null, Frequency.Medium, "No grid charge enable（1:on 2:off"),
#	ModbusRegInfo(40000+0x0572, "u16", "DisChgWithPVEnable", null, null, Frequency.Medium, "Discharge with PV enable（1:on 2:off"),
#//	ModbusRegInfo(40000+0x0573, "u16", "Reserved", null, null, Frequency.Medium, "(0-1)"),
#	ModbusRegInfo(40000+0x0574, "u16/RW", "AppModeIndex", null, null, Frequency.Medium, ""),
#	ModbusRegInfo(40000+0x0575, "u16/RW", "GridWaveCheckLevel", null, null, Frequency.Medium, "0:High 1:low 2:close"),
#	ModbusRegInfo(40000+0x0576, "u16/RW", "MeterCheckValue", "1W", null, Frequency.Medium, "(0-60000)"),
#	ModbusRegInfo(40000+0x0577, "u16/RW", "RapaidCutOff", null, null, Frequency.Medium, "0 :off 1 :on"),
#	ModbusRegInfo(40000+0x0578, "u16/RW", "GridVoltQualit", "0.1V", null, Frequency.Medium, "Grid qualit volt mov avg in 9min (2300-3000)"),
#	ModbusRegInfo(40000+0x0579, "u16/RW", "GridVoltHighS2", "0.1V", null, Frequency.Medium, "Grid over volt value in state 2 (2300-3000)"),
#	ModbusRegInfo(40000+0x057A, "u16/RW", "GridVoltLowS2", "0.1V", null, Frequency.Medium, "Grid under volt value in state 2 (1600-2300)"),
#	ModbusRegInfo(40000+0x057B, "u16/RW", "GridVoltHighS2Time", "0.02s", null, Frequency.Medium, "Grid over volt time in state 2 (0-65535)"),
#	ModbusRegInfo(40000+0x057C, "u16/RW", "GridVoltLowS2Time", "0.02s", null, Frequency.Medium, "Grid under volt time in state 2 (0-65535)"),
#	ModbusRegInfo(40000+0x057D, "u16/RW", "GridVoltHighS1", "0.1V", null, Frequency.Medium, "Grid over volt value in state 1 (2300-3000)"),
#	ModbusRegInfo(40000+0x057E, "u16/RW", "GridVoltLowS1", "0.1V", null, Frequency.Medium, "Grid under volt value in state 1 (1600-2300)"),
#	ModbusRegInfo(40000+0x057F, "u16/RW", "GridVoltHighS1Time", "0.02s", null, Frequency.Medium, "Grid over volt time in state 1 (0-65535)"),
#	ModbusRegInfo(40000+0x0580, "u16/RW", "GridVoltLowS1Time", "0.02s", null, Frequency.Medium, "Grid under volt time in state 1 (0-65535)"),
#	ModbusRegInfo(40000+0x0581, "u16/RW", "GridFreqHighS2", "0.01Hz", null, Frequency.Medium, "Grid over freq value in state 2 (5000-5500)"),
#	ModbusRegInfo(40000+0x0582, "u16/RW", "GridFreqLowS2", "0.01Hz", null, Frequency.Medium, "Grid under freq value in state 2 (4500-5000)"),
#	ModbusRegInfo(40000+0x0583, "u16/RW", "GridFreqHighS2Time", "0.02s", null, Frequency.Medium, "Grid over freq time in state 2 (0-65535)"),
#	ModbusRegInfo(40000+0x0584, "u16/RW", "GridFreqLowS2Time", "0.02s", null, Frequency.Medium, "Grid under freq time in state 2 (0-65535)"),
#	ModbusRegInfo(40000+0x0585, "u16/RW", "GridFreqHighS1", "0.01Hz", null, Frequency.Medium, "Grid over freq value in state 1 (5000-5500)"),
#	ModbusRegInfo(40000+0x0586, "u16/RW", "GridFreqLowS1", "0.01Hz", null, Frequency.Medium, "Grid under freq value in state 1 (4500-5000)"),
#	ModbusRegInfo(40000+0x0587, "u16/RW", "GridFreqHighS1Time", "0.02s", null, Frequency.Medium, "Grid over freq time in state 1 (0-65535)"),
#	ModbusRegInfo(40000+0x0588, "u16/RW", "GridFreqLowS1Time", "0.02s", null, Frequency.Medium, "Grid under freq time in state 1 (0-65535)"),
#	ModbusRegInfo(40000+0x0589, "u16/RW", "GridVoltRecoverHigh", "0.1V", null, Frequency.Medium, "Grid volt recover high value (2300-3000)"),
#	ModbusRegInfo(40000+0x058A, "u16/RW", "GridVoltRecoverLow", "0.1V", null, Frequency.Medium, "Grid volt recover low value (1600-2300)"),
#	ModbusRegInfo(40000+0x058B, "u16/RW", "GridVoltRecoverTime", "0.02s", null, Frequency.Medium, "Grid volt recover time value (0-65535)"),
#	ModbusRegInfo(40000+0x058C, "u16/RW", "GridFreqRecoverHigh", "0.01Hz", null, Frequency.Medium, "Grid freq recover high value (5000-5500)"),
#	ModbusRegInfo(40000+0x058D, "u16/RW", "GridFreqRecoverLow", "0.01Hz", null, Frequency.Medium, "Grid freq recover low value (4500-5000)"),
#	ModbusRegInfo(40000+0x058E, "u16/RW", "GridFreqRecoverTime", "0.02s", null, Frequency.Medium, "Grid freq recover time value (0-65535)"),
#	ModbusRegInfo(40000+0x058F, "u16/RW", "PointBValue", "%", null, Frequency.Medium, "Reactive curve point B PF (30-80)"),
#	ModbusRegInfo(40000+0x0590, "u16/RW", "PointCValue", "%", null, Frequency.Medium, "Reactive curve point C PF (90-100)"),
#	ModbusRegInfo(40000+0x0591, "u16/RW", "GridLimitByVolStartVol", "0.1V", null, Frequency.Medium, "Grid limit start volt (JAPAN)"),
#	ModbusRegInfo(40000+0x0592, "u16/RW", "GridLimitByVolStartPer", "%", null, Frequency.Medium, "Grid limit start percent (JAPAN)"),
#	ModbusRegInfo(40000+0x0593, "u16/RW", "GridLimitByVolSlope", "%/V", null, Frequency.Medium, "Grid limit slope (JAPAN)"),
#	ModbusRegInfo(40000+0x0594, "u16/RW", "ActiveCurveVolt", "0.1V", null, Frequency.Medium, "Voltage of start reactive curve (2300-2530)"),
#	ModbusRegInfo(40000+0x0595, "u16/RW", "DesactiveCurveVolt", "0.1V", null, Frequency.Medium, "Voltage of stop reactive curve (2070-2300)"),
#	ModbusRegInfo(40000+0x0596, "u16/RW", "EnableCurve", null, null, Frequency.Medium, "Enable CEI voltage vs reactive curve (1:off 2:on)"),
#	ModbusRegInfo(40000+0x0597, "u16/RW", "BackupStartDly", "min", null, Frequency.Medium, "Backup Start Delay"),
#	ModbusRegInfo(40000+0x0598, "u16/RW", "RecoverTimeEE", "%/min", null, Frequency.Medium, "Recover speed (5-100)"),
#	ModbusRegInfo(40000+0x0599, "u16", "SafetyCountry", null, null, Frequency.Medium, "0:Italy, Table 8-19"),
#	ModbusRegInfo(40000+0x059A, "u16", "Iso Limit", "10kΩ", null, Frequency.Medium, "ISO Limit (0-300)"),
#	ModbusRegInfo(40000+0x059B, "u16", "BatBMSCurrLmtCoff", "%", null, Frequency.Medium, "BMS current limit cofficient"),
#	ModbusRegInfo(40000+0x059C, "u16/RW", "wMeterConnectCheckFlag", null, null, Frequency.Medium, "1: Start Meter selfcheck, 0: Stop check"),
#	ModbusRegInfo(40000+0x059D, "u16", "bMeterConnectStatus", null, null, Frequency.Medium, "Meter Status: 1:OK, 2:Reverse, 3:CT Error, 0:NG"),
#	ModbusRegInfo(40000+0x059E, "u16", "MeterConnectStatus", null, null, Frequency.Medium, "Meter Status: 1:OK, 2:Reverse, 3:CT Error, 0:NG"),
#];
#
#}
